<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>ì œë³´ ìƒì„¸</title>
 <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f8f9fa;
      padding: 40px;
    }
    .report-container {
      background-color: #fff;
      border-radius: 10px;
      padding: 30px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    }
    .report-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }
    .report-title {
      font-size: 1.8rem;
      font-weight: bold;
    }
    .report-meta {
      display: flex;
      gap: 15px;
      color: #6c757d;
      font-size: 0.95rem;
    }
    .report-content {
      margin-top: 30px;
      white-space: pre-wrap;
      font-size: 1.1rem;
    }
    .report-image {
      margin-top: 40px;
      text-align: center;
    }
    .report-image img {
      max-width: 100%;
      max-height: 400px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .action-buttons {
      margin-top: 30px;
      text-align: right;
    }
    .btn-action {
      margin-left: 10px;
    }
  </style>



</head>
<body>
	<div class="card">
		<h2>ì œë³´ ë‚´ìš©</h2>

		<p>
			<span class="label">ë‚´ìš©:</span> <span th:text="${report.content}">ë‚´ìš©
				ì—†ìŒ</span>
		</p>
		<p>
			<span class="label">ì‘ì„±ì:</span> <span th:text="${report.maskedId}">ì‘ì„±ì
				ì—†ìŒ</span>
		</p>
		<p>
			<span class="label">ë‚ ì§œ:</span> <span th:text="${report.writeDay}">ë‚ ì§œ
				ì—†ìŒ</span>
		</p>
		<p>
			<span class="label">ìœ„ì¹˜:</span> <span th:text="${report.location}">ìœ„ì¹˜
				ì—†ìŒ</span>
		</p>

		<!-- âœ… ë’¤ë¡œê°€ê¸° ë²„íŠ¼ (ìš°ì¸¡ ìƒë‹¨ ê³ ì •, ì˜ ë³´ì´ë„ë¡ ìŠ¤íƒ€ì¼ë§) -->
		<a th:href="@{/report/list}"
			style="position: fixed; top: 15px; left: 20px; background-color: #0055cc; color: white; padding: 10px 18px; border-radius: 6px; font-weight: bold; text-decoration: none; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); z-index: 1000;">
			ì´ì „í™”ë©´ </a>

		<div class="image-container">
			<div th:if="${report.images != null and !report.images.isEmpty()}">
				<img th:if="${report.images[0] != null}"
					th:src="@{${report.images[0].imgUrl}}"
					style="max-width: 200px; max-height: 200px; margin-bottom: 10px;" />

			</div>

			<div class="no-image"
				th:if="${report.images == null or report.images.isEmpty()}">
				ì—…ë¡œë“œëœ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.</div>

			<!-- âœ… ë³¸ë¬¸ ì•„ë˜ ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ (ê¸€ ì‘ì„±ìë§Œ ë³´ì„) -->

			<div class="action-buttons"
				th:if="${session.loginUser != null 
    and (session.loginUser.role == 'ADMIN' 
         or session.loginUser.username == report.id)}">

				<a th:href="@{/report/edit/{id}(id=${report.reportId})}"
					class="btn btn-primary">ìˆ˜ì •</a>
				<!-- ğŸ“ í˜ì´ì§€ ê°€ì¥ ë°”ê¹¥ìª½(ë³¸ë¬¸ ë‚´ìš© ì•„ë˜)ì— ìœ„ì¹˜ -->
				<form th:action="@{/report/delete/{id}(id=${report.reportId})}"
					method="post" style="display: inline;">
					<button type="submit" class="btn btn-danger">ğŸ—‘ ì‚­ì œ</button>
				</form>
			</div>


		</div>
	</div>
</body>
</html>
