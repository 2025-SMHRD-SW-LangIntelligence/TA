<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title>사용자 관리</title>
<style>
body {
	font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	background-color: #f9fafb;
	padding: 40px;
}

h2 {
	color: #2c3e50;
	margin-bottom: 30px;
}

table {
	width: 100%;
	border-collapse: collapse;
	box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
	background-color: #fff;
	border-radius: 10px;
	overflow: hidden;
}

th, td {
	padding: 15px 20px;
	text-align: left;
	border-bottom: 1px solid #ddd;
}

th {
	background-color: #337DFF;
	color: white;
	font-weight: 600;
}

tr:hover {
	background-color: #f1f7ff;
}

.home-link {
	display: inline-block;
	margin-top: 30px;
	font-size: 16px;
	color: #555;
	text-decoration: none;
}

.home-link:hover {
	text-decoration: underline;
}
</style>
</head>
<body>
	<h2>👤 사용자 관리</h2>

	<table>
		<thead>
			<tr>
				<th>아이디</th>
				<th>비밀번호</th>
				<th>이름</th>
				<th>이메일</th>
				<th>역할</th>
				<th>관리</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="user : ${users}">
				<td th:text="${user.username}">username</td>
				<td th:text="${user.password}">password</td>
				<td th:text="${user.name}">name</td>
				<td th:text="${user.email}">email@example.com</td>
				<td th:text="${user.role}">USER</td>
				<td>
					<form
						th:if="${session.loginUser != null and session.loginUser.role == 'ADMIN' and user.role != 'ADMIN'}"
						th:action="@{/admin/users/delete/{id}(id=${user.id})}"
						method="post" onsubmit="return confirm('정말 삭제하시겠습니까?');">
						<button type="submit">삭제</button>
					</form>

				</td>

			</tr>
		</tbody>
	</table>

	<a class="home-link" th:href="@{/admin/dashboard}">← 관리자 대시보드로 돌아가기</a> <br><br>
	<a class="home-link" th:href="@{/index}">← 메인화면</a>
</body>
</html>
